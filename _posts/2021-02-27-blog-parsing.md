---
layout: post
title: Парсинг блогов
category: projects
---

Проект о том, как скопировать блог. 


Оглавление: 
- [Как работает программа](#workprocess)




**Проблема**: пользователь ведет блог на платформе, которая вот-вот закроется. Терять написанное годами он не хочет. Хочет сохранить для истории все, что писал, с картинками.

**Задача**: скопировать содержимое блога с блог-платформы в контролируемое пользователем место. 

**Используемые технологии**: Python, BeautifulSoup, Google Docs API


## [Как работает программа](#workprocess)


### Парсинг

1. На вход программе подается адрес блога, с помощью request получаем первую страницу блога.
2. Программа парсит страницу блога. Она обычно состоит из нескольких постов. Пост состоит из элементов: заголовок, содержимое, дата, время, кол-во комментариев, url-поста. Значение каждого элемента записываются в словарь "Пост", этот словарь затем добавляется в качестве элемента словаря "Блог"
3. После парсинга всей страницы, ищется ссылка на следующую страницу, и следующая страница загружается.  
4. Предыдущие два пункта повторяеем, пока страницы не закончатся.
5. Словарь "Блог" записывается в JSON

### Экспорт в Google Docs 

У меня было несколько вариантов, где сохранять содержимое блога: MS Word, Google Docs, Блокнот или оставить сырой JSON. Варинт с вордом хороший, но недоступный из онлайна, а в 2021 - это важно. Можно, конечно, выгрузить его в Google Docs, но зачем лишние движения, если можно сразу. В блокнот не вставить картинки, а JSON не поймут блондинки. 

6. Создаем по [гайду гугла](https://developers.google.com/docs/api/quickstart/python#step_3_set_up_the_sample) заготовку для работы с Google Docs (аналог ворда) .
6. Пробегаемся по JSON и для каждого элемента "Пост"
7. вцвцув
